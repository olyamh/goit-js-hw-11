{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function createMarkup(images){\n    return images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads}) =>`\n                <li class=\"gallery-item\">\n                    <a href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\"/>\n                        <ul class=\"image-descr-list\">\n                            <li class=\"image-descr-item\">Tags: ${tags}</li>\n                            <li class=\"image-descr-item\">Likes: ${likes}</li>\n                            <li class=\"image-descr-item\">Views: ${views}</li>\n                            <li class=\"image-descr-item\">Comments: ${comments}</li>\n                            <li class=\"image-descr-item\">Downloads: ${downloads}</li>\n                        </ul>\n                    </a>\n                </li>\n                `\n            ).join('');\n}\n\n","import {createMarkup} from \"./render-functions\"\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nexport const gallery = document.querySelector(\".gallery\");\nexport const loader = document.querySelector('.loader')\nconst form = document.querySelector(\".js-search-form\");\n\nexport function pixabayApi(url, options){\n   return fetch(`${url}?${options}`)\n   .then((response) => {\n    if (!response.ok) {\n        throw new Error(response.statusText);\n    }\nloader.style.visibility = 'visible'\n    return response.json();\n})\n.then(data => {\n    console.log(\"get:\" , data); \n        if (data.hits.length === 0){\n            iziToast.show({\n                messageColor: 'white',\n                backgroundColor: 'red',\n                position: 'topRight',\n                close: true,\n                title: '',\n                message: 'Sorry, there are no images matching your search query. Please try again!'\n            });\n        }\n        gallery.innerHTML += createMarkup(data.hits);\n        const lightbox = new SimpleLightbox('.gallery-item a', {\n            captionDelay: 250,\n            captions: true,\n            captionsData: \"alt\",\n        });\n        \n        lightbox.refresh();\n\n        loader.style.visibility = 'hidden';\n})\n.catch(error =>  iziToast.show({\n                messageColor: 'white',\n                backgroundColor: 'red',\n                position: 'topRight',\n                close: true,\n                title: `${error}`,\n                message: 'Sorry, there are no images matching your search query. Please try again!'\n            }))\n.finally(() => form.reset())\n\n}\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { pixabayApi } from \"./js/pixabay-api\";\nimport { gallery } from \"./js/pixabay-api\";\nimport { loader } from \"./js/pixabay-api\";\n\nloader.style.visibility = 'hidden';\n\nconst API_KEY = \"47534106-2225be5d16534437522f359a0\";\nconst params = new URLSearchParams({\n    key: API_KEY,\n    q: \"\",\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true\n});\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nconst form = document.querySelector(\".js-search-form\");\n\n\nform.addEventListener(\"submit\", function(event) {\n    event.preventDefault();\n    gallery.innerHTML = \"\";\n\n         \n            const input = event.target.querySelector('.search-input');\n            const clientInput  = input.value.trim();\n            console.log(\"input-trim:\", clientInput);\n            if (!clientInput){\n                iziToast.show({\n                    messageColor: 'white',\n                    backgroundColor: 'red',\n                    position: 'topRight',\n                    close: true,\n                    title: ``,\n                    message: 'Please, enter text'\n                });\n                form.reset();\n                return;\n            }\n           \n            console.log(\"input:\", clientInput);\n            params.set('q', clientInput);\n            pixabayApi(BASE_URL, params);\n        \n});\n\n\n\n\n\n\n\n\n"],"names":["createMarkup","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","gallery","loader","form","pixabayApi","url","options","response","data","iziToast","SimpleLightbox","error","API_KEY","params","BASE_URL","event","clientInput"],"mappings":"6vBAAO,SAASA,EAAaC,EAAO,CAChC,OAAOA,EAAO,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAK;AAAA;AAAA,+BAEnEL,CAAa,eAAeD,CAAY,UAAUE,CAAI;AAAA;AAAA,iEAEpBA,CAAI;AAAA,kEACHC,CAAK;AAAA,kEACLC,CAAK;AAAA,qEACFC,CAAQ;AAAA,sEACPC,CAAS;AAAA;AAAA;AAAA;AAAA,iBAK/E,EAAc,KAAK,EAAE,CACrB,CCTO,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAChDC,EAAO,SAAS,cAAc,iBAAiB,EAE9C,SAASC,EAAWC,EAAKC,EAAQ,CACrC,OAAO,MAAM,GAAGD,CAAG,IAAIC,CAAO,EAAE,EAC/B,KAAMC,GAAa,CACnB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,UAAU,EAE3C,OAAAL,EAAO,MAAM,WAAa,UACfK,EAAS,MACpB,CAAC,EACA,KAAKC,GAAQ,CACV,QAAQ,IAAI,OAASA,CAAI,EACjBA,EAAK,KAAK,SAAW,GACrBC,EAAS,KAAK,CACV,aAAc,QACd,gBAAiB,MACjB,SAAU,WACV,MAAO,GACP,MAAO,GACP,QAAS,0EACzB,CAAa,EAELR,EAAQ,WAAaT,EAAagB,EAAK,IAAI,EAC1B,IAAIE,EAAe,kBAAmB,CACnD,aAAc,IACd,SAAU,GACV,aAAc,KAC1B,CAAS,EAEQ,QAAO,EAEhBR,EAAO,MAAM,WAAa,QAClC,CAAC,EACA,MAAMS,GAAUF,EAAS,KAAK,CACf,aAAc,QACd,gBAAiB,MACjB,SAAU,WACV,MAAO,GACP,MAAO,GAAGE,CAAK,GACf,QAAS,0EACzB,CAAa,CAAC,EACb,QAAQ,IAAMR,EAAK,OAAO,CAE3B,CC9CAD,EAAO,MAAM,WAAa,SAE1B,MAAMU,EAAU,qCACVC,EAAS,IAAI,gBAAgB,CAC/B,IAAKD,EACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAC,EACKE,EAAW,2BAEXX,EAAO,SAAS,cAAc,iBAAiB,EAGrDA,EAAK,iBAAiB,SAAU,SAASY,EAAO,CAC5CA,EAAM,eAAc,EACpBd,EAAQ,UAAY,GAIZ,MAAMe,EADQD,EAAM,OAAO,cAAc,eAAe,EAC7B,MAAM,KAAI,EAErC,GADA,QAAQ,IAAI,cAAeC,CAAW,EAClC,CAACA,EAAY,CACbP,EAAS,KAAK,CACV,aAAc,QACd,gBAAiB,MACjB,SAAU,WACV,MAAO,GACP,MAAO,GACP,QAAS,oBAC7B,CAAiB,EACDN,EAAK,MAAK,EACV,MACH,CAED,QAAQ,IAAI,SAAUa,CAAW,EACjCH,EAAO,IAAI,IAAKG,CAAW,EAC3BZ,EAAWU,EAAUD,CAAM,CAEvC,CAAC"}